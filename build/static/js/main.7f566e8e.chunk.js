(this["webpackJsonpcontract-mgmt-system"]=this["webpackJsonpcontract-mgmt-system"]||[]).push([[0],{148:function(e,t,c){e.exports={spinner:"LoadingSpinner_spinner__2Kyqv"}},362:function(e,t,c){},363:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(36),a=c.n(s),i=c(10),r=c(22),l=c(19),o=c(159),d=Object(o.a)({name:"ui",initialState:{modalIsVisible:!1,notification:null},reducers:{toggleNewItem:function(e){e.modalIsVisible=!e.modalIsVisible}}}),j=(d.actions,d.reducer),b=c(0),u=function(e){return Object(b.jsx)("button",{onClick:e.onOpenModal,className:"button btn has-shadow is-success is-medium",children:e.text})},h=function(e){return Object(b.jsx)("button",{onClick:e.onOpenModal,className:"button btn has-shadow is-success is-medium",children:e.text})},O=function(e){var t;return Object(b.jsx)("header",{className:"page-header",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("h1",{className:"is-size-2",children:e.title}),(t=e.title,"Contracts"===t?Object(b.jsx)(u,{text:"New Contract",onOpenModal:e.onOpenModal}):"Events"===t?Object(b.jsx)(h,{text:"New Event",onOpenModal:e.onOpenModal}):void 0)]})})})},x=c(15),m=c(18),p=function(e){return"[object Date]"===Object.prototype.toString.call(e)?"".concat(e.getMonth()+1,"/").concat(e.getDate(),"/").concat(e.getFullYear()):e},v=function(e){return e?"$".concat(e.toFixed(2)):e},f=function(e){if(!e)return e;var t=e.toString().replace(/[^\d]/g,""),c=t.length;return c<4?t:c<7?"(".concat(t.slice(0,3),") ").concat(t.slice(3)):"(".concat(t.slice(0,3),") ").concat(t.slice(3,6),"-").concat(t.slice(6,10))},g=function(e){return e||(e||"Nothing found")},N=function(e){},D=function(e){var t,c,s=e.date,a=new Date(s),r=Date.now(),l=function(e){var t=(e-r)/6e4,c=t/60,n=c/24,s=n/12;return t>=60&&t<1440?"".concat(c.toFixed(0)," hrs"):t>=1440&&t<43800?"".concat(n.toFixed(0)," days"):t>=43800?"".concat(s.toFixed(0)," months"):"Past Due"}(a);return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsxs)("div",{children:[(c=l,"Past Due"===c?Object(b.jsx)("span",{className:"badge badge-is-danger",children:c}):Object(b.jsx)("span",{className:"badge badge-is-warning",children:c})),Object(b.jsx)("span",{className:"renewal-date",children:(t=a,"[object Date]"===Object.prototype.toString.call(t)?t.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):t)})]}),Object(b.jsx)(i.b,{to:"/contracts/".concat(e.id),children:Object(b.jsx)("span",{className:"badge badge-is-success",children:"view"})})]})},y=function(){return Object(b.jsxs)("div",{className:"noContracts",children:[Object(b.jsx)("h4",{children:"No contracts found!"}),Object(b.jsx)("div",{children:Object(b.jsx)(i.b,{className:"button btn has-shadow is-success is-small",to:"/contracts",children:"Add a Contract"})})]})},C=function(e){var t=e.contracts,c=t.filter((function(e){return e.endDate}));return c=c.sort((function(e,t){return t-e})),Object(b.jsxs)("div",{className:"card upcoming-renewals",children:[Object(b.jsxs)("div",{className:"card-header",children:[Object(b.jsx)("h5",{children:"Upcoming Renewals"}),Object(b.jsx)("span",{className:"icon-text is-align-items-center",children:Object(b.jsx)("span",{className:"icon",children:Object(b.jsx)(x.a,{size:"lg",icon:m.a})})})]}),Object(b.jsx)("div",{className:"card-content",children:t&&0!==t.length?Object(b.jsx)("aside",{className:"menu",children:Object(b.jsx)("ul",{className:"menu-list",children:c.map((function(e,t){return Object(b.jsx)("li",{children:Object(b.jsx)(D,{index:t,date:e.endDate,id:e.id})},t)}))})}):Object(b.jsx)(y,{})})]})},S=c(14),w=function(e){return Object(b.jsxs)("div",{className:"card statbox",children:[Object(b.jsxs)("div",{className:"card-header",children:[Object(b.jsx)("span",{className:"icon-text",children:Object(b.jsx)("span",{className:"icon",children:Object(b.jsx)(x.a,{size:"4x",color:e.color,icon:e.icon})})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"light-text",children:e.title}),Object(b.jsx)("span",{className:"card-header-title",children:e.figure})]})]}),Object(b.jsx)("div",{className:"card-footer",children:Object(b.jsx)("span",{className:"card-footer-item",children:Object(b.jsx)("span",{className:"light-text",children:"Last updated: ".concat(e.lastUpdated)})})})]})},k=c(69),E=Object(l.b)((function(e){return{contractState:e.contracts,dispatchData:e.dispatch}}))((function(e){var t=e.contracts,c=t.length;console.log("Contracts in statboxes are: ",t);var n=t.filter((function(e){return"Active"===e.status})),s=t.filter((function(e){return"Draft"===e.status})),a=t.filter((function(e){return"Expired"===e.status})),i=Date.now(),r=new Date(Math.max.apply(Math,Object(S.a)(n.map((function(e){return new Date(e.updatedAt)}))))),l=new Date(Math.max.apply(Math,Object(S.a)(s.map((function(e){return new Date(e.updatedAt)}))))),o=new Date(Math.max.apply(Math,Object(S.a)(a.map((function(e){return new Date(e.updatedAt)}))))),d=new Date(Math.max.apply(Math,Object(S.a)(t.map((function(e){return new Date(e.updatedAt)}))))),j=function(e){var t=(i-e)/6e4,c=t/60,n=c/24,s=n/12;return t>=60&&t<1440?"".concat(c.toFixed(0)," hrs ago"):t>=1440&&t<43800?"".concat(n.toFixed(0)," days ago"):t>=43800?"".concat(s.toFixed(0)," months ago"):"No Updates!"},u=j(r),h=j(l),O=j(o),x=j(d);return Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsx)("div",{className:"column",children:Object(b.jsx)("div",{className:"block",children:Object(b.jsx)(w,{icon:k.d,color:"#3e8ed0",title:"Total Contracts",figure:c,lastUpdated:x})})}),Object(b.jsx)("div",{className:"column",children:Object(b.jsx)("div",{className:"block",children:Object(b.jsx)(w,{icon:k.b,color:"#48c78e",title:"Active Contracts",figure:n.length,lastUpdated:u})})}),Object(b.jsx)("div",{className:"column",children:Object(b.jsx)("div",{className:"block",children:Object(b.jsx)(w,{icon:k.c,color:"#d6b457",title:"Draft Contracts",figure:s.length,lastUpdated:h})})}),Object(b.jsx)("div",{className:"column",children:Object(b.jsx)("div",{className:"block",children:Object(b.jsx)(w,{icon:k.a,color:"#dd3333",title:"Expired Contracts",figure:a.length,lastUpdated:O})})})]})})),T=function(e){var t=e.date,c=new Date(t),s=c.getDay(),a=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]}(c);return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsxs)("div",{className:"block",children:[s?Object(b.jsx)("span",{className:"upcoming-events__day",children:s}):Object(b.jsx)("span",{className:"upcoming-events__unavailable",children:"Date unavailable"}),Object(b.jsx)("span",{children:a})]}),Object(b.jsx)("div",{className:"block",children:Object(b.jsx)(i.b,{to:"/events/".concat(e.slug),children:Object(b.jsx)("h6",{className:"upcoming-events__title",children:e.event})})}),Object(b.jsxs)("div",{className:"block upcoming-events__meta",children:[Object(b.jsx)("p",{children:"7:30 - 8:30"}),Object(b.jsx)("span",{children:e.company})]})]})},A=function(){return Object(b.jsxs)("div",{className:"noEvents",children:[Object(b.jsx)("h4",{children:"No events found!"}),Object(b.jsx)("div",{children:Object(b.jsx)(i.b,{className:"button btn has-shadow is-success is-small",to:"/events",children:"Add an Event"})})]})},F=(c(190),c(191),c(53)),M=c(111),I=c(112),L=c(374),_=c(373),R=function(e){var t=e.events;return F.a.use([M.a,I.a]),Object(b.jsxs)("div",{className:"card upcoming-events",children:[Object(b.jsxs)("div",{className:"card-header",children:[Object(b.jsx)("h5",{children:"Upcoming Events"}),Object(b.jsx)("span",{className:"icon-text is-align-items-center",children:Object(b.jsx)("span",{className:"icon",children:Object(b.jsx)(x.a,{size:"lg",icon:m.c})})})]}),Object(b.jsx)("div",{className:"card-content",children:t.length?Object(b.jsx)("div",{className:"upcoming-events",children:Object(b.jsx)(L.a,{modules:[M.a,I.a],spaceBetween:5,slidesPerView:3,scrollbar:{draggable:!0},onSlideChange:function(){return console.log("slide change")},onSwiper:function(e){return console.log(e)},children:t.map((function(e,t){return Object(b.jsx)(_.a,{children:Object(b.jsx)(T,{id:e.id,event:"An upcoming event",date:e.endDate,company:"Some Company"})},t)}))})}):Object(b.jsx)(A,{})})]})},P=Object(l.b)((function(e){return{contractState:e.contracts,eventState:e.events,dispatchData:e.dispatch}}))((function(e){var t=e.contractState,c=e.eventState;return Object(b.jsxs)("div",{children:[Object(b.jsx)(O,{title:"Dashboard"}),Object(b.jsxs)("section",{className:"section",children:[Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsx)(E,{contracts:t})}),Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsx)("div",{className:"column is-one-third",children:Object(b.jsx)(C,{contracts:t})}),Object(b.jsx)("div",{className:"column is-one-third",children:Object(b.jsx)(R,{events:c})})]})})]})]})})),V=c(6),q=c(11),U=c(12),H=c(20),z=c(21),Y=function(e){var t=e.id,c=e.value,n=e.filterName,s=e.options,a=(e.classes,e.onChange);return Object(b.jsx)("select",{id:t,value:c,onChange:a,children:function(e){return e.map((function(e){return Object(b.jsx)("option",{value:e.value,children:"".concat(n,": ").concat(e.name)},e.value)}))}(s)})},B=function(e){Object(H.a)(c,e);var t=Object(z.a)(c);function c(){var e;Object(q.a)(this,c);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).dropdownChangeHandler=function(t){return"status-menu"===t.target.id&&e.props.onChangeStatusFilter(t.target.value),"date-menu"===t.target.id&&e.props.onChangeDateFilter(t.target.value),"cannot find option"},e.filterItems=Object(b.jsx)(n.Fragment,{children:Object(b.jsx)(Y,{id:e.props.menuId,filterName:e.props.filterName,value:e.props.selected,onChange:e.dropdownChangeHandler,options:e.props.filters})}),e}return Object(U.a)(c,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"select is-medium mr-3",children:this.filterItems})}}]),c}(n.Component),G=function(e){var t=Object(b.jsx)(x.a,{icon:m.h});return Object(b.jsxs)("p",{className:"control has-icons-right",children:[Object(b.jsx)("input",{className:"input is-medium",type:"text",placeholder:"Search contracts...",value:e.searchValue,onChange:function(t){e.onChangeSearchFilter(t.target.value)}}),Object(b.jsx)("span",{className:"icon is-small is-right",children:t})]})},J=[{value:"all",name:"All"},{value:"active",name:"Active"},{value:"draft",name:"Draft"},{value:"expired",name:"Expired"}],$=[{value:"all",name:"All"},{value:"2022",name:"2022"},{value:"2021",name:"2021"},{value:"2020",name:"2020"},{value:"2019",name:"2019"},{value:"2018",name:"2018"}],K=function(e){return Object(b.jsx)("div",{className:"filters-toolbar mb-4",children:Object(b.jsx)("div",{className:"flex space-between",children:Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)(B,{filterName:"Status",filters:J,menuId:"status-menu",onChangeStatusFilter:e.onChangeStatusFilter,selected:e.selectedStatus}),Object(b.jsx)(B,{filterName:"Date",filters:$,menuId:"date-menu",onChangeDateFilter:e.onChangeDateFilter,selected:e.selectedDate,hand:!0}),Object(b.jsx)(G,{searchValue:e.searchValue,onChangeSearchFilter:e.onChangeSearchFilter})]})})})},W=c(7),Z=c(148),Q=c.n(Z),X=function(){return Object(b.jsx)("div",{className:Q.a.spinner})},ee=function(e){return Object(b.jsxs)("div",{className:"dropdown ".concat(e.selected?"is-active":""," "),children:[Object(b.jsx)("div",{className:"dropdown-trigger",children:Object(b.jsx)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:e.onClick,children:Object(b.jsx)("span",{className:"icon is-small",children:Object(b.jsx)(x.a,{icon:m.d,className:"icon-dark"})})})}),Object(b.jsx)("div",{className:"dropdown-menu",id:"actions-menu-".concat(e.id),role:"menu",children:Object(b.jsxs)("div",{className:"dropdown-content",children:[Object(b.jsx)(i.b,{className:"dropdown-item",to:"/".concat(e.postType,"/").concat(e.slug),children:Object(b.jsxs)("span",{className:"icon-text",children:[Object(b.jsx)("span",{className:"icon",children:Object(b.jsx)(x.a,{icon:m.f})}),Object(b.jsx)("span",{children:"View Details"})]})}),Object(b.jsx)("button",{className:"dropdown-item",onClick:function(t){var c=e.id;e.onRemove(c)},children:Object(b.jsxs)("span",{className:"icon-text has-text-danger",children:[Object(b.jsx)("span",{className:"icon",children:Object(b.jsx)(x.a,{icon:m.i})}),Object(b.jsx)("span",{children:"Remove"})]})})]})})]})},te="UPDATE_FILTER",ce=c(149),ne=c.n(ce).a.create({baseURL:"http://localhost:3306/api"}),se="GET_CONTRACTS",ae="ADD_CONTRACT",ie="LOAD_TABLE",re="EDIT_CONTRACT",le="FETCH_CONTRACT",oe="REMOVE_CONTRACT",de="ADD_EVENT",je="REMOVE_EVENT",be="EDIT_EVENT",ue="FETCH_EVENT",he="GET_EVENTS",Oe="LOAD_EVENTS_TABLE",xe="ADD_NOTIFICATION",me="REMOVE_NOTIFICATION",pe="GET_NOTIFICATIONS",ve="LOAD_NOTIFICATION_TABLE",fe="ADD_UPLOAD",ge="REMOVE_UPLOAD",Ne="EDIT_UPLOAD",De="GET_UPLOADS",ye="LOAD_UPLOADS_TABLE",Ce="ADD_PLUGIN",Se=function(e){return{type:de,event:e}},we={slug:"",event:"",client:"",company:"",isSingleDay:!1,startDate:"",startTime:"",endDate:"",endTime:"",eventItems:"",notes:"",lastYearsPrice:"",upload:"",status:""},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we;return function(t){var c={slug:e.slug,event:e.event,client:e.client,company:e.company,isSingleDay:e.isSingleDay,startDate:e.startDate,startTime:e.startTime,endDate:e.endDate,endTime:e.endTime,lastYearsPrice:e.lastYearsPrice,eventItems:e.eventItems,notes:e.notes,upload:e.upload,status:e.status};return ne.post("events/add",c).then((function(e){t(Se(e.data))}))}},Ee=function(e){var t=e.id;return{type:je,id:void 0===t?{}:t}},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return function(e){return ne.delete("events/".concat(t)).then((function(c){e(Ee({id:t}))}))}},Ae=function(e,t){return function(c){return ne.put("events/".concat(e),t).then((function(){c(function(e,t){return{type:be,id:e,updates:t}}(e,t))}))}},Fe=function(e){return function(e,t){return ne.get("events").then((function(t){var c=[];t.data.forEach((function(e){c.push(e)})),e(function(e,t){return{type:he,events:e,isLoading:!0}}(c))})).catch((function(e){e.response?console.log(e.response.data):e.request?console.log(e.request):console.log("Error",e.message)}))}},Me=(c(70),function(e){Object(H.a)(c,e);var t=Object(z.a)(c);function c(){var e;Object(q.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={isChecked:!1},e.toggleCheckboxChange=function(){var t=e.props,c=t.handleCheckboxChange,n=t.label;e.setState((function(e){return{isChecked:!e.isChecked}})),c(n)},e}return Object(U.a)(c,[{key:"render",value:function(){var e=this.props.label,t=this.state.isChecked;return Object(b.jsxs)("label",{className:this.props.classes,children:[Object(b.jsx)("input",{type:"checkbox",className:"checkbox--medium",value:e,checked:t,onChange:this.toggleCheckboxChange}),Object(b.jsx)("span",{className:"checkmark",children:e})]})}}]),c}(n.Component)),Ie=function(e){Object(H.a)(c,e);var t=Object(z.a)(c);function c(){var e;Object(q.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).toggleCheckbox=function(t){e.selectedCheckboxes.has(t)?e.selectedCheckboxes.delete(t):e.selectedCheckboxes.add(t)},e.createCheckbox=function(t){return Object(b.jsx)(Me,{classes:"checkbox checkbox--medium",label:t,handleCheckboxChange:e.toggleCheckbox},t)},e.createCheckboxes=function(){return e.createCheckbox()},e.statusVariant="Active"===e.props.status?"has-text-success-dark":"Draft"===e.props.status?"has-text-warning-dark":"Expired"===e.props.status?"has-text-danger-dark":"primary",e.removeItemHandler=function(t){e.props.dispatchData(Te({id:t}))},e}return Object(U.a)(c,[{key:"componentDidMount",value:function(){this.selectedCheckboxes=new Set}},{key:"render",value:function(){return Object(b.jsxs)("tr",{id:"table-row-".concat(this.props.id),children:[Object(b.jsx)("td",{className:"is-flex is-justify-content-center is-align-content-center",children:this.createCheckboxes("checkbox")}),Object(b.jsx)("td",{children:this.props.event}),Object(b.jsx)("td",{children:this.props.company}),Object(b.jsx)("td",{children:this.props.startDate?p(this.props.startDate):""}),Object(b.jsx)("td",{children:this.props.endDate?p(this.props.endDate):""}),Object(b.jsx)("td",{children:this.props.lastYearsPrice?v(this.props.lastYearsPrice):""}),Object(b.jsx)("td",{children:Object(b.jsx)("span",{className:this.statusVariant,children:this.props.status})}),Object(b.jsx)("td",{children:Object(b.jsx)(ee,{id:this.props.id,slug:this.props.slug,postType:"events",selected:this.props.selected,onRemove:N,onClick:this.props.onClick})})]})}}]),c}(n.Component),Le=function(e){return{type:ae,contract:e}},_e={slug:"",client:"",company:"",email:"",phone:"",address:"",city:"",state:"",zipcode:"",title:"",startDate:"",endDate:"",price:0,notes:"",upload:"",status:""},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;return function(t){var c={slug:e.slug,client:e.client,company:e.company,email:e.email,phone:e.phone,address:e.address,city:e.city,state:e.state,zipcode:e.zipcode,title:e.title,startDate:e.startDate,endDate:e.endDate,price:e.price,notes:e.notes,upload:e.upload,status:e.status};return ne.post("contracts/add",c).then((function(e){t(Le(e.data))})).catch((function(e){e.response?console.log(e.response):e.request?console.log(e.request):console.log("Error",e.message)}))}},Pe=function(e){var t=e.id;return{type:oe,id:void 0===t?{}:t}},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return function(e){return ne.delete("contracts/".concat(t)).then((function(c){e(Pe({id:t}))}))}},qe=function(e,t){return function(c){return ne.put("contracts/".concat(e),t).then((function(){c(function(e,t){return{type:re,id:e,updates:t}}(e,t))}))}},Ue=function(e){Object(H.a)(c,e);var t=Object(z.a)(c);function c(){var e;Object(q.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).toggleCheckbox=function(t){e.selectedCheckboxes.has(t)?e.selectedCheckboxes.delete(t):e.selectedCheckboxes.add(t)},e.createCheckbox=function(t){return Object(b.jsx)(Me,{classes:"checkbox checkbox--medium",label:t,handleCheckboxChange:e.toggleCheckbox},t)},e.createCheckboxes=function(){return e.createCheckbox()},e.statusVariant="Active"===e.props.status?"has-text-success-dark":"Draft"===e.props.status?"has-text-warning-dark":"Expired"===e.props.status?"has-text-danger-dark":"primary",e.removeContractHandler=function(t){e.props.dispatchData(Ve({id:t}))},e}return Object(U.a)(c,[{key:"componentDidMount",value:function(){this.selectedCheckboxes=new Set}},{key:"render",value:function(){return Object(b.jsxs)("tr",{id:"table-row-".concat(this.props.id),children:[Object(b.jsx)("td",{className:"is-flex is-justify-content-center is-align-content-center",children:this.createCheckboxes("checkbox")}),Object(b.jsx)("td",{children:this.props.client}),Object(b.jsx)("td",{children:this.props.company}),Object(b.jsx)("td",{children:this.props.startDate?p(this.props.startDate):""}),Object(b.jsx)("td",{children:this.props.endDate?p(this.props.endDate):""}),Object(b.jsx)("td",{children:this.props.price?v(this.props.price):""}),Object(b.jsx)("td",{children:Object(b.jsx)("span",{className:this.statusVariant,children:this.props.status})}),Object(b.jsx)("td",{children:Object(b.jsx)(ee,{id:this.props.id,slug:this.props.slug,selected:this.props.selected,onRemove:this.removeContractHandler,onClick:this.props.onClick,postType:this.props.postType})})]})}}]),c}(n.Component),He=function(e,t,c){return t[c]<e[c]?-1:t[c]>e[c]?1:0},ze=function(e,t){return"desc"===e?function(e,c){return He(e,c,t)}:function(e,c){return-He(e,c,t)}},Ye=function(e,t){var c=e.map((function(e,t){return[e,t]}));return c.sort((function(e,c){var n=t(e[0],c[0]);return 0!==n?n:e[1]-c[1]})),c.map((function(e){return e[0]}))},Be=function(e){var t=e.events,c=Object(n.useState)(new Array(t.length).fill(!1)),s=Object(V.a)(c,2),a=s[0],i=s[1];return Object(b.jsx)(b.Fragment,{children:e.isLoading?Object(b.jsx)("div",{className:"center",children:Object(b.jsx)(X,{})}):Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{}),Object(b.jsx)("th",{children:"Event"}),Object(b.jsx)("th",{children:"Company"}),Object(b.jsx)("th",{children:"Start Date"}),Object(b.jsx)("th",{children:"End Date"}),Object(b.jsx)("th",{children:"Last Year's Price"}),Object(b.jsx)("th",{children:"Status"}),Object(b.jsx)("th",{children:"Action"})]})}),Object(b.jsx)("tbody",{children:Ye(t,ze(e.order,e.orderBy)).map((function(t,c){return Object(b.jsx)(Ie,Object(W.a)(Object(W.a)({id:t.id,slug:t.slug},t),{},{selected:a[c],onClick:function(){return function(e){var t=a.map((function(t,c){return c===e?!t:t}));i(t)}(c)},dispatchData:e.dispatchData,filters:e.filters}),t.id)}))})]})})},Ge=Object(l.b)()((function(e){var t=Object(n.useState)(new Array(e.contracts.length).fill(!1)),c=Object(V.a)(t,2),s=c[0],a=c[1];return Object(b.jsx)(b.Fragment,{children:e.isLoading?Object(b.jsx)("div",{className:"center",children:Object(b.jsx)(X,{})}):Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{}),Object(b.jsx)("th",{children:"Client"}),Object(b.jsx)("th",{children:"Company"}),Object(b.jsx)("th",{children:"Start Date"}),Object(b.jsx)("th",{children:"End Date"}),Object(b.jsx)("th",{children:"Price"}),Object(b.jsx)("th",{children:"Status"}),Object(b.jsx)("th",{children:"Action"})]})}),Object(b.jsx)("tbody",{children:Ye(e.contracts,ze(e.order,e.orderBy)).map((function(t,c){return Object(b.jsx)(Ue,Object(W.a)(Object(W.a)({id:t.id,slug:t.slug},t),{},{selected:s[c],onClick:function(){return function(e){var t=s.map((function(t,c){return c===e?!t:t}));console.log(e),a(t)}(c)},dispatchData:e.dispatchData,filters:e.filters,postType:e.postType}),t.id)}))})]})})})),Je=function(e){var t=e.contracts,c=Object(n.useState)(),s=Object(V.a)(c,2),a=s[0],i=s[1],r=Object(n.useState)(),l=Object(V.a)(r,2),o=l[0],d=l[1],j=Object(n.useState)(""),u=Object(V.a)(j,2),h=u[0],O=u[1],x=Object(n.useState)(["client","title"]),m=Object(V.a)(x,1)[0],p=Object(n.useState)("asc"),v=Object(V.a)(p,2),f=v[0],g=v[1],N=Object(n.useState)([]),D=Object(V.a)(N,2),y=D[0],C=D[1],S=function(e){i(e)},w=function(e){d(e)},k=t.filter((function(e){return"All"!==a&&"draft"!==a&&"expired"!==a&&"active"!==a||null===a?"2022"!==o&&"2021"!==o&&"2020"!==o&&"2019"!==o&&"2018"!==o||null===o?m.some((function(t){var c=e[t];return null===c&&console.log("Search value is null"),c.toString().toLowerCase().indexOf(h.toLowerCase())>-1})):e.startDate.getFullYear().toString()===o:e.status.toLowerCase()===a}));return k&&0!==k.length?Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(K,{selectedStatus:a,selectedDate:o,onChangeStatusFilter:S,onChangeDateFilter:w,onChangeSearchFilter:function(e){O(e)},order:f,orderBy:y,onRequestSort:function(e,t){g(y===t&&"asc"===f?"desc":"asc"),C(t)}}),e.isLoading&&Object(b.jsx)(X,{}),Object(b.jsx)(Ge,{contracts:k,order:f,orderBy:y,dispatchData:e.dispatchData,filters:e.filters,postType:"contracts"})]}):Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(K,{selectedStatus:a,selectedDate:o,onChangeStatusFilter:S,onChangeDateFilter:w,searchValue:h}),Object(b.jsx)("h2",{children:"No contracts found."})]})},$e=c(26),Ke=(c(121),c(34)),We=c(54),Ze=c(155),Qe=c.n(Ze),Xe=c(33),et=c.n(Xe),tt=c(47),ct=function(e){var t=Object(n.useState)(!1),c=Object(V.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(""),r=Object(V.a)(i,2),l=r[0],o=r[1],d=e.file,j=function(){var e=Object(tt.a)(et.a.mark((function e(t){var c;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:(c=new FileReader).onloadstart=function(){a(!0)},c.onloadend=function(){a(!1),o(c.result)},c.readAsDataURL(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j(d)}),[d]),d?s?Object(b.jsx)(X,{}):Object(b.jsx)("img",{src:l,alt:d.name,className:"img",height:150,width:150}):null},nt=["label"],st=["label"],at=["label"],it=["label"],rt=["label"],lt=["label"],ot=function(e){var t=e.label,c=Object(We.a)(e,nt),s=Object($e.c)(c),a=Object(V.a)(s,2),i=a[0],r=a[1];return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)("label",{htmlFor:c.id||c.name,children:t}),Object(b.jsx)("input",Object(W.a)(Object(W.a)({className:"input"},i),c)),r.touched&&r.error?Object(b.jsx)("span",{className:"error-message",children:r.error}):null]})},dt=function(e){var t=e.label,c=Object(We.a)(e,st),s=Object($e.c)(c),a=Object(V.a)(s,2),i=a[0],r=a[1];return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)("label",{htmlFor:c.id||c.name,children:t}),Object(b.jsx)("textarea",Object(W.a)(Object(W.a)({className:"textarea"},i),c)),r.touched&&r.error?Object(b.jsx)("span",{className:"error-message",children:r.error}):null]})},jt=function(e){var t=e.label,c=Object(We.a)(e,at),n=Object($e.c)(c),s=Object(V.a)(n,2),a=s[0],i=s[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:c.id||c.name,children:t}),Object(b.jsx)("div",{className:"select",children:Object(b.jsx)("select",Object(W.a)(Object(W.a)({},a),c))}),i.touched&&i.error?Object(b.jsx)("span",{className:"error-message",children:i.error}):null]})},bt=function(e){var t=e.label,c=Object(We.a)(e,it),s=Object($e.c)(c.name),a=Object(V.a)(s,3),i=a[0],r=a[1],l=a[2];r.value,l.setValue;return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)("label",{htmlFor:c.name,children:t}),Object(b.jsx)("input",Object(W.a)(Object(W.a)({id:c.name,className:"input"},i),c)),r.touched&&r.error?Object(b.jsx)("span",{className:"error-message",children:r.error}):null]})},ut=function(e){var t=e.label,c=Object(We.a)(e,rt),s=Object($e.c)(c.name),a=Object(V.a)(s,3),i=a[0],r=a[1],l=a[2],o=r.value,d=l.setValue;return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)("label",{htmlFor:c.name,children:t}),Object(b.jsx)("input",Object(W.a)(Object(W.a)(Object(W.a)({id:c.name,onKeyDown:function(e){return function(e){var t=f(e.target.value);d(t)}(e)},className:"input",maxLength:14},i),c),{},{value:o})),r.touched&&r.error?Object(b.jsx)("span",{className:"error-message",children:r.error}):null]})},ht=function(e){var t=e.label,c=Object(We.a)(e,lt),s=Object($e.c)(c),a=Object(V.a)(s,3),i=a[0],r=a[1],l=a[2];r.value,l.setValue;return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)("label",{htmlFor:c.name,children:t}),Object(b.jsx)("input",Object(W.a)(Object(W.a)({className:"input"},i),c)),r.touched&&r.error?Object(b.jsx)("span",{className:"error-message",children:r.error}):null]})},Ot=function(e){var t=Object.assign({},e),c=(Object($e.d)().setFieldValue,Object($e.c)(t)),n=Object(V.a)(c,3),s=n[0],a=n[1],i=n[2],r=a.value,l=i.setValue;return Object(b.jsx)(Qe.a,Object(W.a)(Object(W.a)(Object(W.a)({},s),t),{},{name:s.name,selected:s.selected,className:"input",onChange:function(e){return function(e){var t=[("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2),e.getFullYear()].join("-"),c="".concat(t);l(c)}(e)},placeholderText:s.placeholderText,value:r}))},xt=function(e){Object.assign({},e);var t=Object($e.d)().setFieldValue,c=Object(n.useState)(void 0),s=Object(V.a)(c,2),a=s[0],i=s[1];return Object(b.jsxs)("div",{className:"file",children:[Object(b.jsx)("div",{}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("label",{className:"file-label",children:[Object(b.jsx)("input",{className:"file-input",type:"file",name:"files",id:"upload",onChange:function(e){var c=e.target.files[0];t("files",c),i(c)}}),Object(b.jsxs)("span",{className:"file-cta",children:[Object(b.jsx)("span",{className:"file-icon",children:Object(b.jsx)(x.a,{size:"lg",icon:m.j})}),Object(b.jsx)("span",{className:"file-label",children:"Choose a file..."})]}),Object(b.jsx)("span",{className:"file-name",children:"File name"})]}),Object(b.jsx)(ct,{file:a})]})]})},mt=c(52),pt=c.n(mt),vt=function(e){var t=Object(n.useState)(!1),c=Object(V.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(!1),l=Object(V.a)(i,2),o=l[0],d=l[1],j=Object(r.i)(),u=(j.id,j.slug),h=!u,O=Object(n.useState)({slug:"",company:"",client:"",email:"",phone:"",address:"",city:"",state:"",zipcode:"",title:"",startDate:"",endDate:"",price:"",upload:"",notes:"",status:"",files:null,filename:""}),x=Object(V.a)(O,2),m=x[0],p=x[1];Object(n.useEffect)((function(){h||p(e.contract)}),[h,e.contract]);var v=Ke.b().shape({company:Ke.c(),client:Ke.c(),phone:Ke.c(),email:Ke.c().email("Invalid email address").max(255),zipcode:Ke.c().matches(/^[0-9]+$/,"Must be only digits").min(5,"Must be exactly 5 digits").max(5,"Must be exactly 5 digits"),file:Ke.a()}),f=function(){a(!0)},g=function(){d(!0)};return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(r.a,{when:s,message:function(e){return"Are you sure you want to leave? All your entered data will be lost!"}}),Object(b.jsx)($e.b,{initialValues:m,validationSchema:v,enableReinitialize:!0,onSubmit:function(t,c){var n=c.setStatus,s=c.setSubmitting;n(),h?e.onSaveContractData(t,s):h&&o?e.onDraftContractData(t,s):e.onUpdateContractData(u,t,s)},children:function(t){var c=Object(n.useState)({}),s=Object(V.a)(c,2);s[0],s[1];return Object(b.jsxs)($e.a,{onFocus:f,onSubmit:t.handleSubmit,encType:"multipart/form-data",children:[Object(b.jsx)("div",{className:"columns",children:Object(b.jsxs)("div",{className:"column form-section",children:[Object(b.jsx)("h5",{className:"form-section_title",children:"Client Info"}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(ot,{name:"company",type:"text",placeholder:"Company name"})}),Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(ot,{name:"client",type:"text",placeholder:"Client name"})}),Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(bt,{name:"email",type:"email",placeholder:"Client email"})}),Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(ut,{name:"phone",type:"tel",placeholder:"Client phone"})})]}),Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("div",{className:"control",children:Object(b.jsx)(ot,{name:"address",type:"text",placeholder:"Address"})})}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("div",{className:"control",children:Object(b.jsx)(ot,{name:"city",type:"text",placeholder:"City"})}),Object(b.jsx)("div",{className:"control",children:Object(b.jsxs)(jt,{name:"state",children:[Object(b.jsx)("option",{children:"Alaska"}),Object(b.jsx)("option",{children:"New Hampshire"})]})}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)(ot,{name:"zipcode",type:"text",placeholder:"Zipcode"})})]})]})}),Object(b.jsx)("div",{className:"columns",children:Object(b.jsxs)("div",{className:"column form-section",children:[Object(b.jsx)("h5",{className:"form-section_title",children:"Contract Info"}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(ot,{name:"title",type:"text",placeholder:"Contract Name",required:!0})}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)(ht,{name:"price",type:"number",placeholder:"Price"})})]}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("div",{className:"control",children:Object(b.jsxs)(jt,{name:"category",children:[Object(b.jsx)("option",{children:"Maintenance"}),Object(b.jsx)("option",{children:"Project"})]})}),Object(b.jsx)("div",{className:"control",children:Object(b.jsxs)(jt,{name:"level",children:[Object(b.jsx)("option",{children:"Easy"}),Object(b.jsx)("option",{children:"Medium"})]})}),Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(Ot,{name:"startDate",placeholderText:"Start Date",selected:t.startDate})}),Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(Ot,{name:"endDate",placeholderText:"End Date",selected:t.endDate})})]}),Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("div",{className:"control",children:Object(b.jsx)(dt,{name:"notes",type:"textarea",placeholder:"Notes"})})}),Object(b.jsx)("div",{className:"form-section",children:Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("div",{className:"control",children:Object(b.jsx)(xt,{upload:e.upload})})})})]})}),Object(b.jsx)("div",{className:"control-panel",children:Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsx)("div",{className:"column",children:Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("button",{className:"button is-outlined is-white",type:"button",onClick:e.onCancel,disabled:t.isSubmitting,children:"Cancel"})})})}),Object(b.jsx)("div",{className:"column",children:Object(b.jsx)("div",{className:"field-group is-pulled-right",children:Object(b.jsxs)("div",{className:"field is-horizontal",children:[Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("button",{className:"button is-outlined is-white mr-3",type:"submit",onClick:g,disabled:t.isSubmitting,children:t.isSubmitting&&o?Object(b.jsx)("div",{className:pt.a.loading,children:Object(b.jsx)(X,{})}):"Draft"})}),Object(b.jsx)("div",{className:"control",children:Object(b.jsxs)("button",{className:"button is-link",type:"submit",disabled:t.isSubmitting,children:[t.isSubmitting&&Object(b.jsx)("div",{className:pt.a.loading,children:Object(b.jsx)(X,{})}),e.text]})})]})})})]})})]})}})]})};function ft(e,t){return"SEND"===t.type?{data:null,error:null,status:"pending"}:"SUCCESS"===t.type?{data:t.responseData,error:null,status:"completed"}:"ERROR"===t.type?{data:null,error:t.errorMessage,status:"completed"}:e}var gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=Object(n.useReducer)(ft,{status:t?"pending":null,data:null,error:null}),s=Object(V.a)(c,2),a=s[0],i=s[1],r=Object(n.useCallback)(function(){var t=Object(tt.a)(et.a.mark((function t(c){var n;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i({type:"SEND"}),t.prev=1,t.next=4,e(c);case 4:n=t.sent,i({type:"SUCCESS",responseData:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),i({type:"ERROR",errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(W.a)({sendRequest:r},a)},Nt={filename:"",files:null,path:""},Dt=new FormData,yt={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){console.log(e.loaded/e.total*100+"%")}},Ct=function(e){return{type:fe,upload:e}},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return function(){var t=Object(tt.a)(et.a.mark((function t(c){var n;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Dt.append("filename",e.filename),Dt.append("files",e.files),Dt.append("path",e.path),console.log("Upload is: ",e),t.prev=4,t.next=7,ne.post("uploads/add",Dt,yt);case 7:n=t.sent,console.log("result is: ",n),c(Ct(n.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),t.t0.response?console.log(t.t0.response):t.t0.request?console.log(t.t0.request):console.log("Error",t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}()},wt=function(e){return function(e,t){return ne.get("uploads").then((function(t){var c=[];t.data.forEach((function(e){c.push(e)})),e(function(e,t){return{type:De,uploads:e}}(c))})).catch((function(e){e.response?console.log(e.response.data):e.request?console.log(e.request):console.log("Error",e.message)}))}},kt=c(45),Et=function(e){return{type:xe,notification:e}},Tt={title:"",status:"pending",message:"",url:"",itemTitle:""},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;return function(t){var c={title:e.title,status:e.status,message:e.message,url:e.url,itemTitle:e.itemTitle};return ne.post("notifications/add",c).then((function(e){t(Et(e.data))}))}},Ft=function(e){return function(e,t){return ne.get("notifications").then((function(t){var c=[];t.data.forEach((function(e){c.push(e)})),e(function(e){return{type:pe,notifications:e}}(c))})).catch((function(e){e.response?console.log(e.response.data):e.request?console.log(e.request):console.log("Error",e.message)}))}},Mt=(c(365).v4,function(e){var t=gt(Re),c=(t.sendRequest,t.loadingStatus),s=(Object(r.h)(),Object(n.useState)()),a=Object(V.a)(s,2);a[0],a[1],e.contracts;return Object(b.jsxs)("div",{className:"modal ".concat(!0===e.isOpen?"is-active":""),children:[Object(b.jsx)("div",{className:"modal-background"}),Object(b.jsxs)("div",{className:"modal-card",children:[Object(b.jsx)("header",{className:"modal-card-head",children:Object(b.jsx)("p",{className:"modal-card-title",children:"edit"===e.type?"Update Contract":"New Contract"})}),Object(b.jsx)("section",{className:"modal-card-body",children:Object(b.jsx)(vt,{type:e.type,onSaveContractData:function(t,c){var n=Object(W.a)(Object(W.a)({},t),{},{status:"Active",slug:t.title,upload:t.files.name,filename:t.files.name,path:t.path});e.dispatchData(Re(n)).then((function(){e.dispatchData(St(n))})).then((function(){e.dispatchData(At({title:"A new contract was created!",itemTitle:n.title,message:"A new contract was created for ".concat(n.company),url:"/contracts/".concat(n.slug)}))})).catch((function(e){c(!1),console.log(e)})),e.onHideModal()},onUpdateContractData:function(t,c,n){e.dispatchData(qe(t,c)).then(e.dispatchData(At({title:"A contract was updated!",itemTitle:c.title,message:"The contract for ".concat(c.company," was updated."),url:"/contracts/".concat(c.slug)}))).catch((function(e){n(!1),console.log(e)})),e.onHideModal()},onDraftContractData:function(t,c,n){var s=Object(W.a)(Object(W.a)({},t),{},{status:"Draft",slug:t.title,upload:t.files.name,filename:t.files.name,path:t.path});e.dispatchData(Re(s)).then((function(){e.dispatchData(St(s))})).then(e.dispatchData(At({title:"A drafted contract was created!",itemTitle:s.title,message:"A drafted contract was created for ".concat(s.company),url:"/contracts/".concat(s.slug)}))).catch((function(e){c(!1),console.log(e)})),e.onHideModal()},onCancel:e.onHideModal,isLoading:"pending"===c,text:e.text,contract:e.contract,dispatchData:e.dispatchData})})]}),Object(b.jsx)("button",{onClick:e.onHideModal,className:"modal-close is-large","aria-label":"close"})]})}),It=Object(l.b)((function(e){return{contractState:e.contracts,filters:e.filters,sort:e,dispatchData:e.dispatch}}))((function(e){var t=Object(n.useState)(!1),c=Object(V.a)(t,2),s=c[0],a=(c[1],Object(n.useState)(!1)),i=Object(V.a)(a,2),r=i[0],l=i[1],o=e.contractState,d=e.dispatch,j=e.filters.items,u=function(){l(!0)};return Object(b.jsxs)("div",{children:[Object(b.jsx)(O,{title:"Contracts",onOpenModal:u}),Object(b.jsx)("div",{className:"container content",children:Object(b.jsx)(Je,{contracts:o,isLoading:s,dispatchData:d,filters:j})}),r&&Object(b.jsx)(Mt,{onHideModal:function(){l(!1)},onShowModal:u,dispatchData:d,isOpen:r,contracts:o,text:"Submit"})]})})),Lt=c(60),_t=function(e){return Object(b.jsx)("nav",{className:"breadcrumb ".concat(e.className?e.className:""),"aria-label":"breadcrumbs",children:Object(b.jsx)("ul",{children:e.children})})},Rt=function(e){return Object(b.jsx)(n.Fragment,{children:Object(b.jsx)("li",{className:" ".concat(e.className?e.className:""),"aria-current":e.active?"page":void 0,children:Object(b.jsx)(i.b,Object(W.a)(Object(W.a)({className:"is-active",to:e.to,title:e.title,target:e.target},e),{},{children:e.children}))})})},Pt=function(e){var t="Active"===e.contract.status?"is-success":"Draft"===e.contract.status?"is-warning":"Expired"===e.contract.status?"is-danger":"primary";return Object(b.jsx)("section",{className:"page-header",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"is-flex is-align-items-center",children:[Object(b.jsx)("h1",{className:"is-size-2 mr-3",children:e.title?"Contract ".concat(e.slug,": ").concat(e.contract.title):"Contract ".concat(e.slug)}),Object(b.jsx)("span",{className:"tag is-medium ".concat(t),children:e.contract.status})]}),Object(b.jsx)(u,{text:"Edit Contract",onOpenModal:e.openFormModal})]}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)(_t,{className:"has-arrow-separator",children:[Object(b.jsx)(Rt,{to:"/dashboard",children:"Dashboard"}),Object(b.jsx)(Rt,{to:"/contracts",children:"Contracts"}),Object(b.jsx)(Rt,{to:"/contracts/".concat(e.slug),className:"is-active",children:"Contract ".concat(e.slug)})]})})]})})},Vt=function(e){return Object(b.jsxs)("div",{className:"details-wrap box",children:[Object(b.jsx)("div",{id:"clientDetails",className:"block entry-title",children:Object(b.jsx)("h4",{className:"title",children:"Client Details"})}),Object(b.jsx)("table",{className:"table",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Client:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:"".concat(e.contract.client)})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Company:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:"".concat(e.contract.company)})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Phone:"})}),Object(b.jsx)("td",{children:Object(b.jsxs)("span",{className:"icon-text",children:[Object(b.jsx)("span",{className:"icon",children:Object(b.jsx)(x.a,{icon:m.g})}),Object(b.jsx)("span",{children:g(e.contract.phone)})]})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Email:"})}),Object(b.jsx)("td",{children:Object(b.jsxs)("span",{className:"icon-text",children:[Object(b.jsx)("span",{className:"icon",children:Object(b.jsx)(x.a,{icon:m.e})}),Object(b.jsx)("span",{children:g(e.contract.email)})]})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Address"})}),Object(b.jsxs)("td",{children:[Object(b.jsx)("p",{children:g(e.contract.address)}),Object(b.jsx)("p",{children:g(e.contract.city)}),Object(b.jsx)("p",{children:g(e.contract.state)}),Object(b.jsx)("p",{children:g(e.contract.zipcode)})]})]})]})})]})},qt=function(e){return Object(b.jsxs)("div",{className:"details-wrap box",children:[Object(b.jsx)("div",{id:"contractDetails",className:"block entry-title",children:Object(b.jsx)("h4",{className:"title",children:"Contract Details"})}),Object(b.jsx)("table",{className:"table",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Contract ID:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:"#".concat(e.contract.id)})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Start Date:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:g(p(e.contract.startDate))})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"End Date:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:g(p(e.contract.endDate))})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Contract Amount:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:g(v(e.contract.price))})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Notes"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:g(e.contract.notes)})})]})]})})]})},Ut=c(157),Ht=(c(360),function(e){var t=Object(n.useState)(!1),c=Object(V.a)(t,2),s=c[0],a=c[1];return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("a",{href:"#",onClick:function(){return a(!0)},children:Object(b.jsx)("img",{src:e.attachment,alt:"upload.filename",width:100,height:100})}),s&&Object(b.jsx)(Ut.a,{mainSrc:e.attachment,onCloseRequest:function(){return a(!1)}})]})}),zt=function(e){var t=e.upload.length?"../../uploads/".concat(e.upload[0].filename):"";return Object(b.jsx)("div",{id:"attachments",className:"box",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"column",children:[Object(b.jsx)("div",{className:"block entry-title",children:Object(b.jsx)("h4",{className:"title",children:"Attachments"})}),t?Object(b.jsx)(Ht,{attachment:t}):Object(b.jsx)("span",{className:"icon is-large",children:Object(b.jsx)(x.a,{className:"fas fa-2x",icon:m.b})})]})})})},Yt=function(e){return Object(b.jsxs)("div",{id:"plugins",className:"box",children:[Object(b.jsx)("div",{className:"block entry-title",children:Object(b.jsx)("h4",{className:"title",children:"Plugins"})}),Object(b.jsx)("table",{className:"table",children:[{title:"Sample plugin",amount:300,orderDate:"01/01/2021",expireDate:"01/01/2022",status:"active"}].map((function(e,t){return Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Plugin:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:e.title})}),Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Price:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:"$".concat(e.amount)})}),Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Order Date:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:e.orderDate})}),Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Renewal Date:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:e.expireDate})}),Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Status:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:e.status})})]})},t)}))})]})},Bt=Object(l.b)((function(e){return{contracts:e.contracts,dispatchData:e.dispatch,uploads:e.uploads}}))((function(e){var t=e.dispatch,c=Object(n.useState)(!1),s=Object(V.a)(c,2),a=s[0],i=s[1],l=Object(n.useState)(null),o=Object(V.a)(l,2),d=o[0],j=o[1],u=Object(r.i)().slug,h=e.contracts.find((function(e){return e.slug===u})),O=(e.uploads,function(){i(!0)});return h?Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(Pt,{slug:u,contract:h,openFormModal:O}),Object(b.jsx)("section",{id:"contractSingle",className:"section page-single",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsx)("div",{className:"column is-one-quarter sidebar",children:Object(b.jsx)("div",{className:"box",children:Object(b.jsx)("div",{className:"menu",children:Object(b.jsx)("ul",{className:"menu-list",children:[{to:"#contractDetails",text:"Contract Details"},{to:"#clientDetails",text:"Client Details"},{to:"#attachments",text:"Attachments"}].map((function(e,t){return Object(b.jsx)("li",{children:Object(b.jsx)(Lt.a,{className:t===d?"is-active":"",smooth:!0,to:e.to,onClick:function(){return function(e){j(e)}(t)},children:e.text})},t)}))})})})}),Object(b.jsxs)("div",{className:"column is-three-quarters",children:[Object(b.jsx)(qt,{contract:h}),Object(b.jsx)(Vt,{contract:h}),Object(b.jsx)(Yt,{}),Object(b.jsx)(zt,{upload:e.uploads,attachment:"",slug:u})]})]})})}),a&&Object(b.jsx)(Mt,{type:"edit",contract:h,upload:e.uploads,onHideModal:function(){i(!1)},onShowModal:O,dispatchData:t,isOpen:a,text:"Update Contract"})]}):Object(b.jsx)("p",{children:"Contract not found!"})})),Gt=function(e){var t=e.events,c=[];console.log("Events inside list ",t);var s=Object(n.useState)(),a=Object(V.a)(s,2),i=a[0],r=a[1],l=Object(n.useState)(),o=Object(V.a)(l,2),d=o[0],j=o[1],u=Object(n.useState)(""),h=Object(V.a)(u,2),O=h[0],x=h[1],m=Object(n.useState)(["client","title"]),p=Object(V.a)(m,1)[0],v=Object(n.useState)("asc"),f=Object(V.a)(v,2),g=f[0],N=f[1],D=Object(n.useState)([]),y=Object(V.a)(D,2),C=y[0],S=y[1],w=function(e){r(e)},k=function(e){j(e)};return t.length?(c=t.filter((function(e){return"All"!==i&&"draft"!==i&&"expired"!==i&&"active"!==i||null===i?"2022"!==d&&"2021"!==d&&"2020"!==d&&"2019"!==d&&"2018"!==d||null===d?p.some((function(t){var c=e[t];if(null!==c)return c.toString().toLowerCase().indexOf(O.toLowerCase())>-1;console.log("Search value is null")})):e.startDate.getFullYear().toString()===d:e.status.toLowerCase()===i})))&&0!==c.length?Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(K,{selectedStatus:i,selectedDate:d,onChangeStatusFilter:w,onChangeDateFilter:k,onChangeSearchFilter:function(e){x(e)},order:g,orderBy:C,onRequestSort:function(e,t){N(C===t&&"asc"===g?"desc":"asc"),S(t)}}),e.isLoading&&Object(b.jsx)(X,{}),Object(b.jsx)(Be,{events:c,order:g,orderBy:C,dispatchData:e.dispatchData,filters:e.filters})]}):Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(K,{selectedStatus:i,selectedDate:d,onChangeStatusFilter:w,onChangeDateFilter:k,searchValue:O}),Object(b.jsx)("h2",{children:"No events found."})]}):Object(b.jsx)("h2",{children:"No Events found!"})},Jt=function(e){var t=Object(n.useState)(!1),c=Object(V.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(!1),l=Object(V.a)(i,2),o=l[0],d=l[1],j=!Object(r.i)().id,u=Object(n.useState)({event:"",client:"",company:"",isSingleDay:!1,startDate:"",startTime:"",endDate:"",endTime:"",eventItems:"",lastYearsPrice:"",upload:"",notes:"",status:""}),h=Object(V.a)(u,2),O=h[0],x=h[1],m=Ke.b().shape({company:Ke.c().required("Required"),client:Ke.c().required("Required")}),p=function(){a(!0)},v=function(){d(!0)};return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(r.a,{when:s,message:function(e){return"Are you sure you want to leave? All your entered data will be lost!"}}),Object(b.jsx)($e.b,{initialValues:O,validationSchema:m,enableReinitialize:!0,onSubmit:function(t,c){var n=c.setStatus,s=c.setSubmitting,a=c.resetForm;n(),o?e.onDraftItem(t,s,j):e.onSaveItem(t,s,j,a)},children:function(t){var c=Object(n.useState)(),s=Object(V.a)(c,2);s[0],s[1];return Object(n.useEffect)((function(){var t=!0;return j||setTimeout((function(){t&&x(e.event)}),500),function(){return t=!1}}),[]),Object(b.jsxs)($e.a,{onFocus:p,onSubmit:t.handleSubmit,children:[Object(b.jsx)("div",{className:"columns",children:Object(b.jsxs)("div",{className:"column form-section",children:[Object(b.jsx)("h5",{className:"form-section_title",children:"Client Info"}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(ot,{name:"company",type:"text",placeholder:"Company name"})}),Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(ot,{name:"client",type:"text",placeholder:"Client name"})})]})]})}),Object(b.jsx)("div",{className:"columns",children:Object(b.jsxs)("div",{className:"column form-section",children:[Object(b.jsx)("h5",{className:"form-section_title",children:"Event Info"}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(ot,{name:"event",type:"text",placeholder:"Event Name"})}),Object(b.jsx)("div",{className:"control",children:Object(b.jsx)(ht,{name:"lastYearsPrice",type:"number",placeholder:"Last Years Price"})})]}),Object(b.jsx)("div",{className:"control",children:Object(b.jsxs)(jt,{name:"isSingleDay",type:"number",placeholder:"Last Years Price",children:[Object(b.jsx)("option",{children:"-"}),Object(b.jsx)("option",{children:"Yes"}),Object(b.jsx)("option",{children:"No"})]})}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(Ot,{name:"startDate",placeholderText:"Start Date",selected:t.startDate})}),Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(ot,{name:"startTime",type:"text",placeholder:"Start Time"})})]}),Object(b.jsxs)("div",{className:"field is-grouped",children:[Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(Ot,{name:"endDate",placeholderText:"End Date",selected:t.endDate})}),Object(b.jsx)("div",{className:"control is-expanded",children:Object(b.jsx)(ot,{name:"endTime",type:"text",placeholder:"End Time"})})]}),Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("div",{className:"control",children:Object(b.jsx)(dt,{name:"notes",type:"textarea",className:"textarea",placeholder:"Notes"})})}),Object(b.jsx)("div",{className:"form-section",children:Object(b.jsx)("div",{className:"field",children:Object(b.jsxs)("div",{className:"control",children:[Object(b.jsx)("label",{className:"label",children:"File upload"}),Object(b.jsx)("input",{id:"upload",name:"upload",type:"file",className:"button link"})]})})})]})}),Object(b.jsx)("div",{className:"control-panel",children:Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsx)("div",{className:"column",children:Object(b.jsx)("div",{className:"field",children:Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("button",{className:"button is-outlined is-white",type:"button",onClick:e.onCancel,disabled:t.isSubmitting,children:"Cancel"})})})}),Object(b.jsx)("div",{className:"column",children:Object(b.jsx)("div",{className:"field-group is-pulled-right",children:Object(b.jsxs)("div",{className:"field is-horizontal",children:[Object(b.jsx)("div",{className:"control",children:Object(b.jsx)("button",{className:"button is-outlined is-white mr-3",type:"submit",onClick:v,disabled:t.isSubmitting,children:t.isSubmitting&&o?Object(b.jsx)("div",{className:pt.a.loading,children:Object(b.jsx)(X,{})}):"Draft"})}),Object(b.jsx)("div",{className:"control",children:Object(b.jsxs)("button",{className:"button is-link",type:"submit",disabled:t.isSubmitting,children:[t.isSubmitting&&Object(b.jsx)("div",{className:pt.a.loading,children:Object(b.jsx)(X,{})}),e.text]})})]})})})]})})]})}})]})},$t=function(e){var t=gt(ke),c=(t.sendRequest,t.loadingStatus),n=(Object(r.h)(),e.event),s=function(){var t=Object(tt.a)(et.a.mark((function t(c,n,s,i){var r;return et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(W.a)(Object(W.a)({},c),{},{status:"Active",slug:c.event}),s?(e.dispatchData(ke(r)).then((function(){e.dispatchData(At({title:"A new event was created!",itemTitle:r.title,message:"A new event was created for ".concat(r.event),url:"/events/".concat(r.slug)}))})).catch((function(e){n(!1),console.log(e)})),i()):a(c.id,r,n),e.onHideModal();case 3:case"end":return t.stop()}}),t)})));return function(e,c,n,s){return t.apply(this,arguments)}}(),a=function(t,c,n){e.dispatchData(Ae(t,c)).then((function(){})).catch((function(e){console.log(e)})),e.onHideModal()};return Object(b.jsxs)("div",{className:"modal ".concat(!0===e.isOpen?"is-active":""),children:[Object(b.jsx)("div",{className:"modal-background"}),Object(b.jsxs)("div",{className:"modal-card",children:[Object(b.jsx)("header",{className:"modal-card-head",children:Object(b.jsx)("p",{className:"modal-card-title",children:"edit"===e.type?"Update Event":"New Event"})}),Object(b.jsx)("section",{className:"modal-card-body",children:Object(b.jsx)(Jt,{type:e.type,onSaveItem:s,onUpdateItem:a,onDraftItem:function(t,c,n){var s=Object(W.a)(Object(W.a)({},t),{},{status:"Draft",slug:t.slug});n?e.dispatchData(ke(s)).then((function(){e.addNotification({title:"A drafted event was created!",itemTitle:s.title,message:"A drafted event was created for ".concat(s.company),url:"/events/".concat(s.slug)})})).catch((function(e){console.log(e),c(!1)})):a(t.id,s,c),e.onHideModal()},onCancel:e.onHideModal,isLoading:"pending"===c,text:e.text,event:n,dispatchData:e.dispatchData})})]}),Object(b.jsx)("button",{onClick:e.onHideModal,className:"modal-close is-large","aria-label":"close"})]})},Kt=Object(l.b)((function(e){return{eventState:e.events,filters:e,sort:e,dispatchData:e.dispatch}}))((function(e){var t=Object(n.useState)(!1),c=Object(V.a)(t,2),s=c[0],a=(c[1],Object(n.useState)(!1)),i=Object(V.a)(a,2),r=i[0],l=i[1],o=e.eventState,d=e.dispatch,j=e.filters,u=function(){l(!0)};return console.log("Events are: ",o),Object(b.jsxs)("div",{children:[Object(b.jsx)(O,{title:"Events",onOpenModal:u}),Object(b.jsx)("div",{className:"container content",children:Object(b.jsx)(Gt,{events:o,isLoading:s,dispatchData:d,filters:j})}),r&&Object(b.jsx)($t,{onHideModal:function(){l(!1)},onShowModal:u,dispatchData:d,isOpen:r,events:o,text:"Submit"})]})})),Wt=function(e){var t=e.event,c="Active"===t.status?"is-success":"Draft"===t.status?"is-warning":"Expired"===t.status?"is-danger":"primary";return Object(b.jsx)("section",{className:"page-header",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"is-flex is-align-items-center",children:[Object(b.jsx)("h1",{className:"is-size-2 mr-3",children:e.title?"Event ".concat(t.slug,": ").concat(t.title):"Event ".concat(t.slug)}),Object(b.jsx)("span",{className:"tag is-medium ".concat(c),children:t.status})]}),Object(b.jsx)(h,{text:"Edit Event",onOpenModal:e.openFormModal})]}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)(_t,{className:"has-arrow-separator",children:[Object(b.jsx)(Rt,{to:"/dashboard",children:"Dashboard"}),Object(b.jsx)(Rt,{to:"/events",children:"Events"}),Object(b.jsx)(Rt,{to:"/events/".concat(e.slug),className:"is-active",children:"Event ".concat(e.slug)})]})})]})})},Zt=function(e){var t=e.event;return Object(b.jsxs)("div",{className:"details-wrap box",children:[Object(b.jsx)("div",{id:"eventClientDetails",className:"block entry-title",children:Object(b.jsx)("h4",{className:"title",children:"Client Details"})}),Object(b.jsx)("table",{className:"table",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Client:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:"".concat(t.client)})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Company:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:"".concat(t.company)})})]})]})})]})},Qt=function(e){var t=e.event;return Object(b.jsxs)("div",{className:"details-wrap box",children:[Object(b.jsx)("div",{id:"eventDetails",className:"block entry-title",children:Object(b.jsx)("h4",{className:"title",children:"Event Details"})}),Object(b.jsx)("table",{className:"table",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Event ID:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:"#".concat(t.id)})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Start Date:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:g(p(t.startDate))})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Start Time:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:g(t.startTime)})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"End Date:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:g(p(t.endDate))})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"End Time:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:g(t.endTime)})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Last Year's Amount:"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:g(v(t.lastYearsPrice))})})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("h5",{children:"Notes"})}),Object(b.jsx)("td",{children:Object(b.jsx)("p",{children:g(t.notes)})})]})]})})]})},Xt=function(){return Object(b.jsx)("div",{className:"box",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"column",children:[Object(b.jsx)("div",{id:"attachments",className:"block entry-title",children:Object(b.jsx)("h4",{className:"title",children:"Attachments"})}),Object(b.jsx)("span",{className:"icon is-large",children:Object(b.jsx)(x.a,{className:"fas fa-2x",icon:m.b})})]})})})},ec=Object(l.b)((function(e){return{events:e.events,dispatchData:e.dispatch}}))((function(e){var t=e.dispatch,c=Object(r.i)(),s=c.slug,a=c.id,i=Object(n.useState)(!1),l=Object(V.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)(!1),u=Object(V.a)(j,2),h=(u[0],u[1],Object(n.useState)(!1)),O=Object(V.a)(h,2),x=(O[0],O[1],e.events);console.log("Events in single are ",e.events);var m=x.find((function(e){return e.slug===s})),p=function(){d(!0)};return m?Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(Wt,{id:a,slug:s,event:m,openFormModal:p}),Object(b.jsx)("section",{id:"eventSingle",className:"section page-single",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"columns",children:[Object(b.jsx)("div",{className:"column is-one-quarter sidebar",children:Object(b.jsx)("div",{className:"box",children:Object(b.jsx)("div",{className:"menu",children:Object(b.jsxs)("ul",{className:"menu-list",children:[Object(b.jsx)("li",{children:Object(b.jsx)(Lt.b,{activeClassName:"is-active",smooth:!0,to:"#eventDetails",children:"Event Details"})}),Object(b.jsx)("li",{children:Object(b.jsx)(Lt.b,{activeClassName:"is-active",smooth:!0,to:"#eventClientDetails",children:"Client Details"})}),Object(b.jsx)("li",{children:Object(b.jsx)(Lt.b,{activeClassName:"is-active",smooth:!0,to:"#attachments",children:"Attachments"})})]})})})}),Object(b.jsxs)("div",{className:"column is-three-quarters",children:[Object(b.jsx)(Qt,{event:m}),Object(b.jsx)(Zt,{event:m}),Object(b.jsx)(Xt,{event:m})]})]})})}),o&&Object(b.jsx)($t,{type:"edit",event:m,onHideModal:function(){d(!1)},onShowModal:p,dispatchData:t,isOpen:o,text:"Update Event"})]}):Object(b.jsx)("p",{children:"Event not found!"})})),tc=function(e){return Object(b.jsxs)("button",{onClick:e.onShowToast,className:"notification-bell",children:[Object(b.jsx)("span",{className:"icon",children:Object(b.jsx)(x.a,{size:"2x",icon:m.a})}),Object(b.jsx)("span",{className:"notification-counter",children:e.notifications.length>0?e.notifications.length:"0"})]})},cc=function(e){return Object(b.jsx)("nav",{className:"nav",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{activeClassName:"active",to:"/dashboard",children:"Dashboard"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{activeClassName:"active",to:"/contracts",children:"Contracts"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{activeClassName:"active",to:"/events",children:"Events"})}),Object(b.jsx)("li",{children:Object(b.jsx)(tc,{onShowNotification:e.onShowNotification,notifications:e.notifications,onShowToast:e.onShowToast})})]})})},nc=function(e){return Object(b.jsxs)("section",{className:"topBar",children:[Object(b.jsx)("div",{className:"logo",children:"DanFree Design"}),Object(b.jsx)(cc,{onShowNotification:e.onShowNotification,onHideNotification:e.onHideNotification,onShowToast:e.onShowToast,notifications:e.notifications})]})},sc=function(e){var t=e.notification,c=t.title,n=t.message,s=function(e){var t=(e-Date.now())/6e4,c=t/60,n=c/24,s=n/12;return t>=60&&t<1440?"".concat(c.toFixed(0)," hrs"):t>=1440&&t<43800?"".concat(n.toFixed(0)," days"):t>=43800?"".concat(s.toFixed(0)," months"):"Just Now"}(t.createdAt),a=t.url;return"pending"===e.status?Object(b.jsx)("span",{className:"is-warning",children:e.status}):"expired"===e.status?Object(b.jsx)("span",{className:"is-danger",children:e.status}):Object(b.jsxs)("div",{className:"card",children:[Object(b.jsxs)("div",{className:"card-header",children:[Object(b.jsx)("span",{className:"h6 notification__title",children:Object(b.jsx)(i.b,{to:"".concat(a),children:c})}),Object(b.jsx)("span",{className:"is-tiny",children:s})]}),Object(b.jsxs)("div",{className:"card-content",children:[Object(b.jsx)("span",{className:"is-small notification__title",children:c}),Object(b.jsx)("p",{className:"is-small",children:n})]})]},e.index)},ac=Object(l.b)((function(e){return{notifications:e.notifications}}))((function(e){var t=e.notifications,c=Object(n.useState)(!1),s=Object(V.a)(c,2),a=(s[0],s[1]);return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(nc,{onShowNotification:function(){a(!0)},onHideNotification:function(){a(!1)},onShowToast:function(){t.map((function(e,t){return Object(kt.b)(Object(b.jsx)(sc,{notification:e,index:t}),{position:"top-right",autoClose:!0,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0})}))},notifications:t}),Object(b.jsx)("main",{children:e.children}),Object(b.jsx)(kt.a,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!0,rtl:!1,draggable:!0,pauseOnHover:!0,limit:5,containerId:"notification-sidebar"})]})}));c(361),c(362);kt.b.configure();var ic=function(){return Object(b.jsx)(n.Fragment,{children:Object(b.jsx)(i.a,{children:Object(b.jsx)(ac,{children:Object(b.jsxs)(r.e,{children:[Object(b.jsx)(r.c,{path:"/",exact:!0,children:Object(b.jsx)(r.b,{to:"/dashboard"})}),Object(b.jsx)(r.c,{path:"/dashboard",children:Object(b.jsx)(P,{})}),Object(b.jsx)(r.c,{path:"/contracts",component:vt,exact:!0,children:Object(b.jsx)(It,{})}),Object(b.jsx)(r.c,{path:"/contracts/:slug",component:vt,children:Object(b.jsx)(Bt,{})}),Object(b.jsx)(r.c,{path:"/contracts",component:vt,exact:!0,children:Object(b.jsx)(It,{})}),Object(b.jsx)(r.c,{path:"/events",component:Jt,exact:!0,children:Object(b.jsx)(Kt,{})}),Object(b.jsx)(r.c,{path:"/events/:slug",component:Jt,children:Object(b.jsx)(ec,{})}),Object(b.jsx)(r.c,{path:"/events",component:Jt,exact:!0,children:Object(b.jsx)(Kt,{})}),Object(b.jsx)(r.c,{component:y})]})})})})},rc=c(25),lc={contractObj:{contracts:[],isLoading:!1}};var oc={eventObj:{events:[],isLoading:!1}};var dc={uploadObj:{uploads:[]}};var jc={plugins:[]};var bc={notificationObj:{notifications:[]}};var uc={items:[]},hc=Object(rc.b)({contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return[].concat(Object(S.a)(e),[t.contract]);case oe:return e.filter((function(e){return e.id!==t.id}));case le:return e.filter((function(e){return e.id===t.id}));case re:return e.map((function(e){return e.id===t.id?Object(W.a)(Object(W.a)({},e),t.updates):e}));case ie:return Object(W.a)(Object(W.a)({},e),{},{contracts:t.payload,isLoading:!0});case se:return t.contracts;default:return e}},events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return[].concat(Object(S.a)(e),[t.event]);case je:return e.filter((function(e){return e.id!==t.id}));case ue:return e.filter((function(e){return e.id===t.id}));case be:return e.map((function(e){return e.id===t.id?Object(W.a)(Object(W.a)({},e),t.updates):e}));case Oe:return Object(W.a)(Object(W.a)({},e),{},{events:t.payload,isLoading:!0});case he:return t.events;default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return[].concat(Object(S.a)(e),[t.notification]);case me:return e.filter((function(e){return e.id!==t.id}));case ve:return Object(W.a)(Object(W.a)({},e),{},{notifications:t.payload});case pe:return t.notifications;default:return e}},plugins:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return[].concat(Object(S.a)(e),[t.event]);default:return e}},ui:j,filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(W.a)(Object(W.a)({},e),{},{items:Object(W.a)(Object(W.a)({},e.filters),{},{status:t.payload})});default:return e}},uploads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return[].concat(Object(S.a)(e),[t.upload]);case ge:return e.filter((function(e){return e.id!==t.id}));case Ne:return e.map((function(e){return e.id===t.id?Object(W.a)(Object(W.a)({},e),t.updates):e}));case ye:return Object(W.a)(Object(W.a)({},e),{},{uploads:t.payload});case De:return t.uploads;default:return e}}}),Oc=c(66),xc=function(e){var t=[Oc.a],c=Object(rc.d)(hc,e,Object(rc.c)(rc.a.apply(void 0,t)));return c.dispatch(Fe()),c.dispatch(Ft()),c.dispatch(wt()),c.dispatch((function(e,t){return ne.get("plugins").then((function(t){var c=[];t.data.forEach((function(e){c.push(e)})),e(function(e,t){return{type:"GET_PLUGINS",plugins:e}}(c))})).catch((function(e){e.response?console.log(e.response.data):e.request?console.log(e.request):console.log("Error",e.message)}))})),c.subscribe((function(){var e=c.getState(),t={contracts:e.contracts,events:e.events,notifications:e.notifications,uploads:e.uploads,plugins:e.plugins,isLoading:e.isLoading};window.localStorage.setItem("state",JSON.stringify(t))})),c};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var mc=xc(),pc=Object(b.jsx)(l.a,{store:mc,children:Object(b.jsx)(ic,{})});console.log("Initial state: ",mc.getState()),mc.dispatch((function(e,t){return ne.get("contracts").then((function(t){var c=[];t.data.forEach((function(e){c.push(e)})),e(function(e,t){return{type:se,contracts:e,isLoading:!0}}(c))})).catch((function(e){e.response?console.log(e.response.data):e.request?console.log(e.request):console.log("Error",e.message)}))})).then((function(){a.a.render(pc,document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e,t,c){}},[[363,1,2]]]);
//# sourceMappingURL=main.7f566e8e.chunk.js.map